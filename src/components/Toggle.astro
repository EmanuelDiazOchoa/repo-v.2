---
import "../styles/theme-switch.css";
---


<div class="theme-switch flex items-center">
  <input type="checkbox" id="theme-toggle" class="theme-switch__checkbox" />
  <label for="theme-toggle" class="theme-switch__label"></label>
</div>

<script>
  const checkbox = document.getElementById('theme-toggle') as HTMLInputElement | null;

  if (checkbox) {
    // Al cargar, comprobar preferencia guardada
    if (localStorage.getItem('theme') === 'dark') {
      document.body.classList.add('dark');
      checkbox.checked = true;
    }

    checkbox.addEventListener('change', () => {
      if (checkbox.checked) {
        document.body.classList.add('dark');
        localStorage.setItem('theme', 'dark');
      } else {
        document.body.classList.remove('dark');
        localStorage.setItem('theme', 'light');
      }
    });
  }
</script>