---
import "../styles/global.css"; 
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

const {
  title = "Mi Portfolio",
  description = "Portfolio de Hector Emanuel Diaz Ochoa"
} = Astro.props;
---

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{title}</title>
  <meta name="description" content={description} />
  <link rel="icon" href="/img/persona-de-libre-dedicacion.png" type="image/png" />
  <meta property="og:title" content={title} />
  <meta property="og:description" content={description} />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/img/preview-social.jpg" />
  <meta name="author" content="Hector Emanuel Diaz Ochoa" />
  <meta name="robots" content="index, follow" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="language" content="spanish" />
  <meta http-equiv="content-language" content="es" />
</head>
<body class="text-white">

  <div class="min-h-screen w-full relative bg-black overflow-hidden">
    <div
      class="absolute inset-0 z-0"
      style="background: radial-gradient(ellipse 80% 60% at 50% 0%, rgba(16, 185, 129, 0.25), transparent 70%), #000000;"
    ></div>

    
    <div class="relative z-10">
      <Header />
      <main>
        <slot />
      </main>
      <Footer id="contact" />
    </div>
  </div>

  
  <button id="back-to-top" aria-label="Volver arriba">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 15.75l7.5-7.5 7.5 7.5" />
    </svg>
  </button>

  <style>
    #back-to-top {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      width: 3rem; 
      height: 3rem; 
      border-radius: 50%;
      background-color: rgba(31, 41, 55, 0.7); 
      color: white;
      border: 1px solid rgba(75, 85, 99, 0.7); 
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      transition: all 0.3s ease;
      visibility: hidden;
      opacity: 0;
      transform: translateY(20px);
      z-index: 100;
    }
    #back-to-top:hover {
      background-color: rgba(55, 65, 81, 0.9); 
    }
    #back-to-top.visible {
      visibility: visible;
      opacity: 1;
      transform: translateY(0);
    }
    #back-to-top svg {
      width: 1.5rem; 
      height: 1.5rem; 
    }
  </style>

  <script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";
    import { ScrollToPlugin } from "gsap/ScrollToPlugin";

    gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);

    const backToTopButton = document.getElementById('back-to-top');

    if (backToTopButton) {
      
      ScrollTrigger.create({
        trigger: "body",
        start: "400px top",
        end: "bottom bottom",
        onEnter: () => backToTopButton.classList.add('visible'),
        onLeaveBack: () => backToTopButton.classList.remove('visible'),
      });

      
      backToTopButton.addEventListener('click', () => {
        gsap.to(window, { 
          duration: 1, 
          scrollTo: 0, 
          ease: 'power2.inOut' 
        });
      });
    }
  </script>

</body>
</html>